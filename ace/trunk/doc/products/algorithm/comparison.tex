\section{Comparison of Algorithms}

\subsection{Overview}

The following tables compare different aspects of the examined algorithms. The first table explains what is meant by the different aspects.

\newcommand{\acol}[1]{\multicolumn{1}{|p{1.6in}|}{\small{#1}}}
\newcommand{\dcol}[1]{\multicolumn{1}{|p{3.9in}|}{\small{#1}}}

 \begin{table}[!ht]
  \begin{tabular}{|l|c|}
   \hline
    \headercol{1.6in}{Aspect} & 
    \headercol{3.9in}{Description}  \\
   \hline
    \acol{Year} & 
    \dcol{The year the research paper was published.} \\
   \hline 
    \acol{Correct?} & 
    \dcol{No if another research paper has proved the algorithm (or its OT functions) wrong, otherwise Yes} \\
   \hline 
    \acol{Architecture} & 
    \dcol{Which architecture is the algorithm designed for?} \\
   \hline 
    \acol{Available Information} & 
    \dcol{Is there enough information for an implementation?} \\
   \hline 
    \acol{Intention Preservation} & 
    \dcol{How is the user's intention for an operation be preserved? (see \ref{constraints})} \\
   \hline 
    \acol{Causality Preservation} & 
    \dcol{How is causal ordering relation on operations preserved? (see \ref{constraints})} \\
   \hline 
    \acol{Copies Convergence} & 
    \dcol{How is copy convergence on all replicated objects achieved? (see \ref{constraints})} \\
   \hline 
    \acol{Broadcast} & 
    \dcol{When is the broadcast i.e. the emission of a generated operation carried out?} \\
   \hline 
    \acol{Delivery} & 
    \dcol{In what order are the operations at each site executed?} \\
   \hline 
    \acol{Undo} & 
    \dcol{Is a user undo functionality for the algorithm available?} \\
   \hline
  \end{tabular}
  \caption{Aspect Explanation}
 \end{table}

\newcommand{\ccol}[1]{\multicolumn{1}{|p{0.8in}|}{\tiny{#1}}}

\begin{table}[H]
 \begin{tabular}{|l|c|c|c|c|c|}
  \hline
   \headercol{0.8in}{} &
   \headercol{0.8in}{dOPT} &
   \headercol{0.8in}{Jupiter} &
   \headercol{0.8in}{adOPTed} &
   \headercol{0.8in}{GOT} &
   \headercol{0.8in}{GOTO} \\
  \hline
  \hline
   \ccol{Year} &
   \ccol{1989} &
   \ccol{1995} &
   \ccol{1996} &
   \ccol{1998} &
   \ccol{1998} \\
  \hline
   \ccol{Correct?} &
   \ccol{no} &
   \ccol{control algorithm} &
   \ccol{control algorithm} &
   \ccol{yes} &
   \ccol{control algorithm} \\
  \hline
   \ccol{Architecture} &
   \ccol{replicated} &
   \ccol{semi-replicated (central server)} &
   \ccol{replicated} & 
   \ccol{replicated} &
   \ccol{replicated} \\
  \hline
   \ccol{Available Information} &
   \ccol{enough} &
   \ccol{enough} &
   \ccol{enough} & 
   \ccol{enough} &
   \ccol{enough} \\
  \hline
  \hline
   \ccol{Intention Preservation} &
   \ccol{dOP Transformation} &
   \ccol{Transformation and two-dimensional graph} &
   \ccol{L-Transformation and multidimensional graph} &
   \ccol{IT and ET} &
   \ccol{IT and ET} \\
  \hline 
   \ccol{Causality Preservation} &
   \ccol{state vectors} &
   \ccol{state vectors} &
   \ccol{state vectors} &
   \ccol{state vectors} &
   \ccol{state vectors} \\
  \hline
   \ccol{Copies Convergence} &
   \ccol{TP1 (but no convergence achieved)} &
   \ccol{TP1} &
   \ccol{TP1 and TP2} &
   \ccol{TP1 and TP2} &
   \ccol{TP1 and TP2} \\
  \hline
  \hline
    \ccol{Broadcast} &
    \ccol{immediate} &
    \ccol{immediate} &
    \ccol{immediate} &
    \ccol{immediate} &
    \ccol{immediate} \\
  \hline
   \ccol{Delivery} &
   \ccol{causal order} &
   \ccol{causal order} &
   \ccol{causal order} &
   \ccol{causal order} &
   \ccol{causal order} \\
  \hline
  \hline
   \ccol{Undo} &
   \ccol{no} &
   \ccol{no (but could be derived from adOPTed)} &
   \ccol{yes} &
   \ccol{no} &
   \ccol{yes} \\
  \hline
 \end{tabular}
 \caption{Comparison Matrix 1}
\end{table}

\begin{table}[H]
 \begin{tabular}{|l|c|c|c|c|c|}
  \hline
   \headercol{0.8in}{} &
   \headercol{0.8in}{SOCT2} &
   \headercol{0.8in}{SOCT3} &
   \headercol{0.8in}{SOCT4} &
   \headercol{0.8in}{SDT} &
   \headercol{0.8in}{TIBOT} \\
  \hline
  \hline
   \ccol{Year} &
   \ccol{1997} &
   \ccol{2000} &
   \ccol{2000} &
   \ccol{2004} &
   \ccol{2004} \\
  \hline
   \ccol{Correct?} &
   \ccol{no (transformation functions)} &
   \ccol{yes} &
   \ccol{yes} &
   \ccol{no (transformation functions)} &
   \ccol{yes} \\
  \hline
   \ccol{Architecture} &
   \ccol{replicated or semi-replicated} &
   \ccol{replicated (uses global sequencer)} &
   \ccol{replicated (uses global sequencer)} & 
   \ccol{replicated} &
   \ccol{replicated} \\
  \hline
   \ccol{Available Information} &
   \ccol{enough} &
   \ccol{implementation of sequencers} &
   \ccol{implementation of sequencers} & 
   \ccol{not enough for implementation} &
   \ccol{not enough} \\
  \hline
  \hline
   \ccol{Intention Preservation} &
   \ccol{IT and ET} &
   \ccol{IT and ET} &
   \ccol{only IT} &
   \ccol{IT and ET} &
   \ccol{IT} \\
  \hline 
   \ccol{Causality Preservation} &
   \ccol{state vectors} &
   \ccol{timestamps} &
   \ccol{timestamps} &
   \ccol{state vectors} &
   \ccol{time intervals} \\
  \hline
   \ccol{Copies Convergence} &
   \ccol{TP1 and TP2} &
   \ccol{TP1 and continous global order} &
   \ccol{TP1 and continous global order} &
   \ccol{TP1 and TP2} &
   \ccol{TP1, propagation and synchronization rules} \\
  \hline
  \hline
    \ccol{Broadcast} &
    \ccol{immediate} &
    \ccol{immediate (as soon as timestamp is assigned)} &
    \ccol{deferred, in timestamp order} &
    \ccol{immediate} &
    \ccol{deferred, after time interval} \\
  \hline
   \ccol{Delivery} &
   \ccol{causal order} &
   \ccol{continous global order} &
   \ccol{continous global order} &
   \ccol{causal order} &
   \ccol{?} \\
  \hline
  \hline
   \ccol{Undo} &
   \ccol{no} &
   \ccol{no} &
   \ccol{no} &
   \ccol{no} &
   \ccol{no} \\
  \hline
 \end{tabular}
 \caption{Comparison Matrix 2}
\end{table}

\begin{table}[H]
 \begin{tabular}{|l|c|c|c|c|c|}
  \hline
   \headercol{0.8in}{} &
   \headercol{0.8in}{NICE} &
   \headercol{0.8in}{LI04} &
   \headercol{0.8in}{CCU} &
   \headercol{0.8in}{} &
   \headercol{0.8in}{} \\
  \hline
  \hline
   \ccol{Year} &
   \ccol{2002} &
   \ccol{2004} &
   \ccol{1995} &
   \ccol{} &
   \ccol{} \\
  \hline
   \ccol{Correct?} &
   \ccol{yes} &
   \ccol{yes} &
   \ccol{probably yes} &
   \ccol{} &
   \ccol{} \\
  \hline
   \ccol{Architecture} &
   \ccol{semi-replicated (central notifier server)} &
   \ccol{replicated} &
   \ccol{replicated or semi-replicated} & 
   \ccol{} &
   \ccol{} \\
  \hline
   \ccol{Available Information} &
   \ccol{enough} &
   \ccol{not enough} &
   \ccol{not enough} & 
   \ccol{} &
   \ccol{} \\
  \hline
  \hline
   \ccol{Intention Preservation} &
   \ccol{IT} &
   \ccol{IT and ET} &
   \ccol{?} &
   \ccol{} &
   \ccol{} \\
  \hline 
   \ccol{Causality Preservation} &
   \ccol{central notification server} &
   \ccol{state vectors} &
   \ccol{?} &
   \ccol{} &
   \ccol{} \\
  \hline
   \ccol{Copies Convergence} &
   \ccol{TP1 and unique global order} &
   \ccol{TP1 and TP2} &
   \ccol{TP1 and TP2} &
   \ccol{} &
   \ccol{} \\
  \hline
  \hline
    \ccol{Broadcast} &
    \ccol{immediate} &
    \ccol{immediate} &
    \ccol{immediate} &
    \ccol{} &
    \ccol{} \\
  \hline
   \ccol{Delivery} &
   \ccol{causal order} &
   \ccol{causal order} &
   \ccol{causal order} &
   \ccol{} &
   \ccol{} \\
  \hline
  \hline
   \ccol{Undo} &
   \ccol{no} &
   \ccol{no} &
   \ccol{undo} &
   \ccol{} &
   \ccol{} \\
  \hline
 \end{tabular}
 \caption{Comparison Matrix 3}
\end{table}


\subsection{Selection Criteria}

From the set of available algorithms we want to make a pre-selection. This pre-selection is based on the criteria set forth in this section.

\paragraph{Correctness:} This is obviously the most important criteria. If an algorithm is not correct, it is not worth being implemented.

\paragraph{Availability of user undo:} Users of collaborative applications expect the same commands as in a single user application. Without user level undo, the user experience will not be satisfactory.

\paragraph{Availability of information:} Some algorithms are not explained enough to be implemented.

\paragraph{Algorithmic complexity:} Some algorithms are strikingly simple, others are very complex (too complex). Simplicity is a selection criteria.


\subsection{Selection of Algorithms}

\subsubsection{Correctness}
Based on the first selection criteria (correctness) \emph{dOPT} algorithm is deemed unsuitable. Further the transformation functions used by some algorithms have been proved incorrect \cite{imine04}. These include \emph{adOPTed}, \emph{GOTO}, \emph{SOCT2} and \emph{SDT}. Note that the transformation functions can be replaced as they are independent of the control algorithm. By using the proposed transformation functions of \cite{imine04} these control algorithms would be correct again (at least the control algorithm of \emph{adOPTed} and \emph{GOTO} have been proved correct). 

We are not convinced from the paper \cite{tibot} that the algorithm \emph{TIBOT} (see \ref{algo:tibot}) does in fact work properly. There are many remaining questions to be answered to be convinced of its correctness.


\subsubsection{User Undo}
The following algorithms have a user level undo defined. This does not imply that it would be impossible to devise an undo mechanism for other algorithms. Note however that adding an undo mechanism to an existing algorithm is a non-trivial task.

\begin{itemize}
 \item \emph{Jupiter} (see \ref{algo:jupiter}) 
 \item \emph{adOPTed} (see \ref{algo:adopted})
 \item \emph{GOTO} (see \ref{algo:goto})
\end{itemize}


\subsubsection{Availability of Information}
For the algorithms in the next list we do not have enough information available for an implementation.

\begin{itemize}
 \item \emph{CCU} (see \ref{algo:ccu})
 \item \emph{SDT} (see \ref{algo:sdt})
 \item \emph{TIBOT} (see \ref{algo:tibot})
 \item \emph{LI04} (see \ref{algo:li04})
\end{itemize}

For the implementation of \emph{SOCT3} and \emph{SOCT4} we would need some more papers about the implementation of sequencers. These were not found on the Internet.


\subsubsection{Complexity}
\emph{SOCT2} is considered to be very complex \cite{imine03b} \cite{sdt}. \emph{Jupiter} is a very simple algorithm, because it restricts itself to point-to-point communication. \emph{adOPTed} is a bit more complicated than \emph{Jupiter} because it adds $n$-way communication. However, the implementation remains relatively straightforward. \emph{SOCT3} and \emph{SOCT4} use a sequencer that simplifies the implementation of the algorithm but requires an additional component (the sequencer). \emph{NICE} uses a central notification server that simplifies the algorithm significantly. The theoretical aspects of \emph{GOTO} are relatively complex, but the implementation itself should be easy. 


\subsubsection{Selected Algorithms}
Based on these observations, the following algorithms remain as implementation choice:

\begin{itemize}
 \item \emph{Jupiter} (see \ref{algo:jupiter})
 \item \emph{adOPTed} (see \ref{algo:adopted})
 \item \emph{GOTO} (see \ref{algo:goto})
\end{itemize}

because they all fulfill the selection criteria sufficently well.

